<div class="container mt-5">
  <!-- Ürün Oluşturma Formu -->
  <div class="mb-3">
    <button class="btn btn-primary" (click)="showCreateForm()">Yeni Ürün Ekle</button>
  </div>

  <!-- Ürün Listesi -->
  <div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Ürün Adı</th>
          <th>Fiyat</th>
          <th>Açıklama</th>
          <th>Kategori</th>
          <th>Resim URL</th>
          <th>İşlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products" [class.selected]="product === selectedProduct">
          <td><a [routerLink]="['/product', product.productId]">{{ product.name }}</a></td>
          <td>{{ product.price }}</td>
          <td>{{ product.description }}</td>
          <td>{{ product.categoryName }}</td>
          <td>
            <div class="img-container">
              <img [src]="product.imageUrl" alt="Ürün Resmi">
            </div>
          </td>
          <td>
            <div class="button-group">
              <button class="btn btn-primary btn-sm me-2" (click)="selectProduct(product)">Seç</button>
              <button class="btn btn-warning btn-sm me-2" (click)="editProduct(product)">Düzenle</button>
              <button class="btn btn-danger btn-sm" (click)="deleteProduct(product.productId)">Sil</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Oluşturma Formu -->
  <div *ngIf="showCreate" class="mb-3">
    <h2>Yeni Ürün Ekle</h2>
    <form (submit)="createProduct()">
      <div class="mb-3">
        <label for="createProductName" class="form-label">Ürün Adı:</label>
        <input type="text" class="form-control" id="createProductName"
          [(ngModel)]="newProduct.name" name="name" required>
      </div>
      <div class="mb-3">
        <label for="createProductPrice" class="form-label">Fiyat:</label>
        <input type="number" class="form-control" id="createProductPrice"
          [(ngModel)]="newProduct.price" name="price" required>
      </div>
      <div class="mb-3">
        <label for="createProductDescription" class="form-label">Açıklama:</label>
        <input type="text" class="form-control" id="createProductDescription"
          [(ngModel)]="newProduct.description" name="description">
      </div>
      <div class="mb-3">
        <label for="createProductCategory" class="form-label">Kategori:</label>
        <input type="text" class="form-control" id="createProductCategory"
          [(ngModel)]="newProduct.categoryName" name="categoryName">
      </div>
      <div class="mb-3">
        <label for="createProductImageUrl" class="form-label">Resim URL:</label>
        <input type="text" class="form-control" id="createProductImageUrl"
          [(ngModel)]="newProduct.imageUrl" name="imageUrl">
      </div>
      <button class="btn btn-success" type="submit">Kaydet</button>
    </form>
  </div>

  <!-- Düzenleme Formu -->
  <div *ngIf="showEdit" class="mb-3">
    <h2>Ürünü Düzenle</h2>
    <form (submit)="updateProduct(editingProduct)">
      <div class="mb-3">
        <label for="editProductName" class="form-label">Ürün Adı:</label>
        <input type="text" class="form-control" id="editProductName"
          [(ngModel)]="editingProduct.name" name="name" required>
      </div>
      <div class="mb-3">
        <label for="editProductPrice" class="form-label">Fiyat:</label>
        <input type="number" class="form-control" id="editProductPrice"
          [(ngModel)]="editingProduct.price" name="price" required>
      </div>
      <div class="mb-3">
        <label for="editProductDescription" class="form-label">Açıklama:</label>
        <input type="text" class="form-control" id="editProductDescription"
          [(ngModel)]="editingProduct.description" name="description">
      </div>
      <div class="mb-3">
        <label for="editProductCategory" class="form-label">Kategori:</label>
        <input type="text" class="form-control" id="editProductCategory"
          [(ngModel)]="editingProduct.categoryName" name="categoryName">
      </div>
      <div class="mb-3">
        <label for="editProductImageUrl" class="form-label">Resim URL:</label>
        <input type="text" class="form-control" id="editProductImageUrl"
          [(ngModel)]="editingProduct.imageUrl" name="imageUrl">
      </div>
      <button class="btn btn-success" type="submit">Güncelle</button>
      <button class="btn btn-secondary" (click)="cancelEdit()">İptal</button>
    </form>
  </div>

  <!-- Seçili Ürün Detayları -->
  <div *ngIf="showDetails" class="mb-3">
    <h2>Seçili Ürün Detayları</h2>
    <p>Ürün ID: {{ selectedProduct.productId }}</p>
    <p>Ürün Adı: {{ selectedProduct.name }}</p>
    <p>Fiyat: {{ selectedProduct.price }}</p>
    <p>Açıklama: {{ selectedProduct.description }}</p>
    <p>Kategori: {{ selectedProduct.categoryName }}</p>
    <p>Resim URL: {{ selectedProduct.imageUrl }}</p>
  </div>
</div>
